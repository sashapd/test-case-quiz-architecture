{% extends "base.html" %}

{% block content %}
<div class="ui container">
    <br />
    <div class="ui segment">
        <h4 class="ui left floated header">Results</h4>
        <div class="ui clearing divider"></div>
        <h4 class="ui left header">All results</h4>
        <table class="ui celled table">
            <thead>
                <tr>
                    <th>Number of correct tasks</th>
                    <th>Correct answers</th>
                    <th>Wrong answers</th>
                    <th>Answers in wrong order</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{results_combined['all_correct']}}</td>
                    <td>{{results_combined['correct']}}</td>
                    <td class="{%if results_combined['wrong'] > 0 %}negative{%else%}{%endif%}"> {{results_combined['wrong']}}</td>
                    <td class="{%if results_combined['wrong_order'] > 0 %}negative{%else%}{%endif%}"> {{results_combined['wrong_order']}}</td>
                    </td>
                </tr>
            </tbody>
        </table>
        <h4 class="ui left header">Results for every test case</h4>
        <table class="ui celled table">
            <thead>
                <tr>
                    <th>Test case index</th>
                    <th>Correct answers</th>
                    <th>Wrong answers</th>
                    <th>Answers in wrong order</th>
                </tr>
            </thead>
            <tbody>
                {%for i, res in results %}
                <tr class="{%if res['all_correct'] == 1 %}positive{%else%}negative{%endif%}">
                    <td>#{{i + 1}}</td>
                    <td><i class="{%if res['all_correct'] == 1 %}icon checkmark{%else%}{%endif%}"></i>
                        {{res['correct']}}</td>
                    <td><i class="{%if res['wrong'] > 0 %}icon close{%else%}{%endif%}"></i> {{res['wrong']}}</td>
                    <td><i class="{%if res['wrong_order'] > 0 %}icon close{%else%}{%endif%}"></i> {{res['wrong_order']}}
                    </td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
    </div>
    <a href="/categories">
        <button class="positive ui button">Try again</button>
    </a>
</div>
{% endblock %}